apiVersion: v1
kind: ConfigMap
metadata:
  name: alertmanager-templates
  namespace: monitoring
data:
  alertmanager.tmpl: |-
    {{ define "telegram.alert" }}
    ğŸš¨ *ALERT TRIGGERED* ğŸš¨

    ğŸ›‘ *Alert Name:*   {{ .CommonLabels.alertname }} 
    ğŸ—‚ï¸ *Namespace:*   {{ .CommonLabels.namespace }} 
    ğŸ“¦ *Pod:*   {{ .CommonLabels.pod }} 
    âš ï¸ *Status:*   {{ .CommonLabels.phase }}

    {{ if .CommonAnnotations.description }}
    ğŸ“ *Description:*   {{ .CommonAnnotations.description }}
    {{ else if eq .CommonLabels.alertname "PodCrashLoopBackOff" }}
    ğŸ“ *Description:*   ĞŸĞ¾Ğ´ {{ .CommonLabels.pod }} Ğ² Ğ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑ‚Ğ²Ğµ Ğ¸Ğ¼ĞµĞ½ {{ .CommonLabels.namespace }} Ğ¸Ğ¼ĞµĞµÑ‚ {{ .Value }} Ñ€ĞµÑÑ‚Ğ°Ñ€Ñ‚Ğ¾Ğ² Ğ·Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚.
    {{ else if eq .CommonLabels.alertname "PodNotRunning" }}
    ğŸ“ *Description:*   ĞŸĞ¾Ğ´ {{ .CommonLabels.pod }} Ğ² Ğ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑ‚Ğ²Ğµ Ğ¸Ğ¼ĞµĞ½ {{ .CommonLabels.namespace }} Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ² ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¸ {{ .CommonLabels.phase }} Ğ±Ğ¾Ğ»ĞµĞµ 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚.
    {{ else }}
    ğŸ“ *Description:*   ĞĞµÑ‚ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ
    {{ end }}

    ğŸ”´ *Severity:*   {{ .CommonLabels.severity }} 
    {{ end }}
